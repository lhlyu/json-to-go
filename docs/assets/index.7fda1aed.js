import{r as e,o as t,m as n,h as s,d as i,a,C as o,b as l,c as r,e as c,f as u,g as d,w as h,F as p,i as v,u as m,W as f,j as g,K as _,k as b,l as y,P as O,T,n as k,s as N,p as x,q as w,t as A,v as S,x as E,y as R,z as C,A as L,B,D as z}from"./vendor.54ea3e0a.js";var I,j;function G(n,s){const i=e(null);return t((()=>{i.value=ace.edit(n),i.value.setTheme("ace/theme/tomorrow"),s&&i.value.session.setMode(s)})),{editor:i}}ace.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.12/src-noconflict/"),(j=I||(I={})).hjson="ace/mode/hjson",j.go="ace/mode/golang";var V,Y,J=n();(Y=V||(V={})).OPEN_OBJECT="open_object",Y.CLOSE_OBJECT="close_object",Y.OPEN_ARRAY="open_array",Y.CLOSE_ARRAY="close_array",Y.SEP_COLON="sep_colon",Y.SEP_COMMA="sep_comma",Y.COMMENT="comment",Y.NULL="null",Y.BOOLEAN="boolean",Y.STRING="string",Y.INTEGER="integer",Y.FLOAT="float";const M=[V.NULL,V.BOOLEAN,V.STRING,V.INTEGER,V.FLOAT];class F{constructor(e,t,n){this.tokenType=e,this.value=t,this.start=n,this.end=n+t.length}isBasicType(){return M.indexOf(this.tokenType)>-1}}const P=[".","0","1","2","3","4","5","6","7","8","9"],U=['"',""];class ${constructor(e){this.raw=e,this.size=e.length,this.index=0,this.tokens=new Array,this.tokenize()}tokenize(){for(;;){const e=this.getToken();if(!e)break;this.tokens.push(e)}}getToken(){if(this.index>=this.size)return null;const e=this.index;switch(this.raw[this.index]){case"{":return this.next(),new F(V.OPEN_OBJECT,"{",e);case"}":return this.next(),new F(V.CLOSE_OBJECT,"}",e);case"[":return this.next(),new F(V.OPEN_ARRAY,"[",e);case"]":return this.next(),new F(V.CLOSE_ARRAY,"]",e);case":":return this.next(),new F(V.SEP_COLON,":",e);case",":return this.next(),new F(V.SEP_COMMA,",",e);case"n":if(this.next("null"))return new F(V.NULL,"null",e);break;case"t":if(this.next("true"))return new F(V.BOOLEAN,"true",e);break;case"f":if(this.next("false"))return new F(V.BOOLEAN,"false",e);break;case'"':return this.parseString('"');case"'":return this.parseString("'");case"-":case"+":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":const t=this.parseNumber();if(t)return t;break;case"/":return this.parseComment();case" ":case"\n":case"\r":case"\t":return this.next(),this.getToken()}return this.parseString()}next(e){return e&&""!==e?this.raw.substr(this.index,e.length)===e&&(this.index+=e.length,!0):(this.index++,!0)}finish(e=-1){return-1===e&&(e=this.index),e>=this.size}parseString(e=""){let t=this.index,n=[":"," ","]","}",",","\n","\r"];for(e.length&&(n=[e],t++);!this.finish(t)&&(this.isEscape(t)&&(t+=2),-1===n.indexOf(this.raw[t]));)t++;const s=this.index+e.length,i=this.raw.slice(s,t);return this.index=t+e.length,new F(V.STRING,i,s)}parseNumber(){let e=!1,t=this.index;if(["-","+"].indexOf(this.raw[this.index])>-1&&t++,"0"===this.raw[t]&&P.indexOf(this.raw[t+1])>0)return null;for(;P.indexOf(this.raw[t])>-1&&!this.finish(t);){if(0===P.indexOf(this.raw[t])){if(e)return null;e=!0}t++}const n=this.raw.slice(this.index,t);return this.index=t,new F(e?V.FLOAT:V.INTEGER,n,this.index)}parseComment(){const e=this.index+1;let t="";switch(this.raw[e]){case"/":t="\n";break;case"*":t="*/";break;default:return null}const n=this.raw.indexOf(t,e);if(-1==n)return null;this.index=n+t.length;const s=this.raw.slice(e+1,n);return new F(V.COMMENT,s,e+1)}isEscape(e){return"\\"===this.raw[e]&&U.indexOf(this.raw[e+1])>-1}}var D,K;(K=D||(D={}))[K.OBJECT=0]="OBJECT",K[K.ARRAY=1]="ARRAY",K[K.BASE=2]="BASE";class W{constructor(){this.level=0,this.size=0,this.nodeType=2}addNode(e){var t,n;if(!(this.value instanceof F)){if(this.value||(this.value=new Array),null==(t=null==e?void 0:e.key)?void 0:t.value)for(let t=0;t<this.size;t++)if((null==(n=this.value[t].key)?void 0:n.value)===e.key.value)return void(this.value[t]=e);this.value.push(e),this.size++}}getNodes(){return this.value}setValue(e){this.value=e}getToken(){return this.value}}class q{constructor(e){this.tokens=e,this.size=e.length,this.index=0,this.root=new W,this.size&&this.parse(this.root)}parse(e,t=1){if(this.tokens[this.index].tokenType===V.OPEN_ARRAY)return e.nodeType=1,this.index++,void this.parseArray(e,t);e.nodeType=0,this.index++,this.parseObject(e,t)}parseObject(e,t=0){for(;this.index<this.size;this.index++){if(this.skip(),this.tokens[this.index].tokenType===V.CLOSE_OBJECT)return;if(this.tokens[this.index].tokenType===V.SEP_COLON){const n=new W;n.level=t,n.key=this.prev();const s=this.next();s.isBasicType()?n.setValue(s):(this.index++,this.parse(n,t+1)),e.addNode(n)}}}parseArray(e,t=0){for(;this.index<this.size;this.index++){if(this.skip(),this.tokens[this.index].tokenType===V.CLOSE_ARRAY)return;const n=this.tokens[this.index],s=new W;s.level=t,n.isBasicType()?s.setValue(n):this.parse(s,t+1),e.addNode(s)}}skip(){for(;this.index<this.size;){switch(this.tokens[this.index].tokenType){case V.SEP_COMMA:case V.COMMENT:this.index++;continue}return}}prev(){return this.tokens[this.index-1]}next(){return this.tokens[this.index+1]}}class Z{constructor(e,t){this.layer=0,this.json="",this.opt=t,this.traverseTree(e)}getIndent(){var e;return(null==(e=this.opt)?void 0:e.format)?"    ".repeat(this.layer):""}getSpace(){var e;return(null==(e=this.opt)?void 0:e.format)?" ":""}getWrapRow(){var e;return(null==(e=this.opt)?void 0:e.format)?"\n":""}traverseTree(e){const t=e.size-1;if(e.key&&(this.json+=`${this.getIndent()}"${e.key.value}":${this.getSpace()}`),this.handlerElement(e),e.nodeType===D.OBJECT){this.json+=`{${this.getWrapRow()}`,this.layer++;for(let n=0;n<e.size;n++)this.traverseTree(e.getNodes()[n]),this.json+=n==t?`${this.getWrapRow()}`:`,${this.getWrapRow()}`;this.layer--,this.json+=`${this.getIndent()}}`}if(e.nodeType===D.ARRAY){this.json+="[";for(let n=0;n<e.size;n++)this.traverseTree(e.getNodes()[n]),this.json+=n==t?"":`${this.getSpace()},`;this.json+="]"}}handlerElement(e){if(null==e?void 0:e.value){let t=e.getToken().value;switch(e.getToken().tokenType){case V.INTEGER:t=Number.parseInt(t).toString();case V.FLOAT:t=Number.parseFloat(t).toString();case V.NULL:case V.BOOLEAN:this.json+=t;break;case V.STRING:this.json+=`"${t}"`}}}}const H=function(e){return s.camelize(e)},Q=function(e){return s.pascalize(e)},X=function(e){return s.decamelize(e,{separator:"_"})},ee=function(e){return(e=s.decamelize(e,{separator:""})).replace(e[0],e[0].toUpperCase())},te=function(e){return s.decamelize(e,{separator:""})};function ne(e,t){switch(e){case 0:return H(t);case 1:return Q(t);case 2:return X(t);case 3:return ee(t);case 4:return te(t)}return t}var se,ie;(ie=se||(se={})).BOOL="bool",ie.STRING="string",ie.INT="int",ie.FLOAT="float64",ie.INTERFACE="interface{}",ie.STRUCT="struct";const ae=[se.BOOL.toString(),se.STRING.toString(),se.INT.toString(),se.FLOAT.toString()];class oe{constructor(e){this.name=e}addNode(e){var t;this.childs||(this.childs=new Array);for(let n=this.childs.length-1;n>=0;n--)if(e.name===(null==(t=this.childs[n])?void 0:t.name))return void(this.childs[n]=e);this.childs.push(e)}}const le={rootName:"RootObject"};class re{constructor(e,t){this.result="",this.structs=new Array,this.opt=Object.assign({},le,this.opt);const n=this.gen(e);n&&(this.result=JSON.stringify(n,null,"  "),console.log(this.result))}gen(e,t,n){var s,i,a,o,l,r,c,u;let d=null;switch(e.nodeType){case D.BASE:return t===D.ARRAY?null:(d=new oe(null!=(i=null==(s=null==e?void 0:e.key)?void 0:s.value)?i:"field"),d.kind=this.getKind(e),d);case D.ARRAY:t!==D.ARRAY&&(d=new oe(null!=(l=null==(a=null==e?void 0:e.key)?void 0:a.value)?l:null==(o=this.opt)?void 0:o.rootName),d.kind=this.getKind(e));for(let t=0;t<e.size;t++){const s=this.gen(e.getNodes()[t],D.ARRAY,null!=d?d:n);s&&(d?null==d||d.addNode(s):n&&n.addNode(s))}return d;case D.OBJECT:if(t===D.ARRAY&&0===e.size)return null;d=new oe(null!=(u=null==(r=null==e?void 0:e.key)?void 0:r.value)?u:null==(c=this.opt)?void 0:c.rootName),d.kind=this.getKind(e);for(let t=0;t<e.size;t++){const n=this.gen(e.getNodes()[t],D.OBJECT);n&&d.addNode(n)}if(t===D.ARRAY&&n){for(let e=0;e<d.childs.length;e++)n.addNode(d.childs[e]);return null}return d}return null}codegen(e){var t,n;const s=null!=(n=null==(t=e.childs)?void 0:t.length)?n:0;switch(e.kind){case se.BOOL:case se.STRING:case se.INT:case se.FLOAT:case se.INTERFACE:this.result+=`    ${ne(1,e.name)} ${e.kind}\n`;break;case se.STRUCT:this.result+=`type ${ne(1,e.name)} struct {\n`;break;default:this.result+=`    ${ne(1,e.name)} ${e.kind}\n`}s&&(this.result+="}")}getKind(e){switch(e.nodeType){case D.OBJECT:return se.STRUCT;case D.ARRAY:if(0==e.size)return"[]"+se.INTERFACE;let t=this.getKind(e.getNodes()[0]);for(let n=1;n<e.size;n++){if(this.getKind(e.getNodes()[n])!==t)return"[]"+se.INTERFACE}switch(t){case se.BOOL:case se.STRING:case se.INT:case se.FLOAT:return"[]"+t;default:return"[]"+this.getKind(e.getNodes()[0])}}switch(e.getToken().tokenType){case V.BOOLEAN:return se.BOOL;case V.STRING:return se.STRING;case V.INTEGER:return se.INT;case V.FLOAT:return se.FLOAT}return se.INTERFACE}isBaseType(e){const t=e.replaceAll("[]","");return ae.indexOf(t)>-1}isSince(e){return e.indexOf("[]")>-1}}var ce,ue;(ue=ce||(ce={}))[ue.JSON=0]="JSON",ue[ue.GOLANG=1]="GOLANG",ue[ue.YAML=2]="YAML";class de{codegen(e,t){return new Z(e,t).json}}const he=new de;const pe=new class{codegen(e,t){return new re(e).result}},ve=new de;class me{switchStrategy(e){switch(e){case 0:this.strategy=he;break;case 1:this.strategy=pe;break;case 2:this.strategy=ve}}do(e,t,n){this.switchStrategy(e);const s=new $(t),i=new q(s.tokens);return this.strategy.codegen(i.root,n)}}const fe={codegenStrategy:ce.GOLANG},ge=e=>{e&&(fe.opt=Object.assign({},fe.opt,e),be())},_e=e=>{J.emit("left.editor.set",e)},be=()=>{J.emit("left.editor.transform")};const ye=e=>{J.emit("right.editor.set",e)};function Oe(){const t=e([{label:"例子",items:[{label:"第一个🌰",command:()=>{_e('{\n        a:-1231.323\n        b:     {\n            z:31\n            // 测试\n            p:       true\n            123:"key是字符串"\n        }\n    }')}},{label:"第二个🌰",command:()=>{_e('{\n        "a": 123, // 数字\n        "b": "xxx",\n        "c": [  /* 数组 */\n            true,\n            /* 注释1 */\n            23123,\n            0\n            // 注释2\n        ]\n    }')}},{label:"第三个🌰",command:()=>{_e('[{"input_index":0,"candidate_index":0,"delivery_line_1":"1 N Rosedale St","last_line":"Baltimore MD 21229-3737","delivery_point_barcode":"212293737013","components":{"primary_number":"1","street_predirection":"N","street_name":"Rosedale","street_suffix":"St","city_name":"Baltimore","state_abbreviation":"MD","zipcode":"21229","plus4_code":"3737","delivery_point":"01","delivery_point_check_digit":"3"},"metadata":{"record_type":"S","zip_type":"Standard","county_fips":"24510","county_name":"Baltimore City","carrier_route":"C047","congressional_district":"07","rdi":"Residential","elot_sequence":"0059","elot_sort":"A","latitude":39.28602,"longitude":-76.6689,"precision":"Zip9","time_zone":"Eastern","utc_offset":-5,"dst":true},"analysis":{"dpv_match_code":"Y","dpv_footnotes":"AABB","dpv_cmra":"N","dpv_vacant":"N","active":"Y"}},{"input_index":0,"candidate_index":1,"delivery_line_1":"1 S Rosedale St","last_line":"Baltimore MD 21229-3739","delivery_point_barcode":"212293739011","components":{"primary_number":"1","street_predirection":"S","street_name":"Rosedale","street_suffix":"St","city_name":"Baltimore","state_abbreviation":"MD","zipcode":"21229","plus4_code":"3739","delivery_point":"01","delivery_point_check_digit":"1"},"metadata":{"record_type":"S","zip_type":"Standard","county_fips":"24510","county_name":"Baltimore City","carrier_route":"C047","congressional_district":"07","rdi":"Residential","elot_sequence":"0064","elot_sort":"A","latitude":39.2858,"longitude":-76.66889,"precision":"Zip9","time_zone":"Eastern","utc_offset":-5,"dst":true},"analysis":{"dpv_match_code":"Y","dpv_footnotes":"AABB","dpv_cmra":"N","dpv_vacant":"N","active":"Y"}}]')}}]},{label:"操作",items:[{label:"JSON纠正",command:()=>{J.emit("left.editor.check")}},{label:"JSON格式化",command:()=>{J.emit("left.editor.fmt")}},{label:"JSON压缩",command:()=>{J.emit("left.editor.compress")}}]}]),n=e({});return{items:t,menu:n,toggleFn:e=>{n.value.toggle(e)}}}const Te=d("span",{class:"pi pi-question"},null,-1),ke=d("span",{class:"pi pi-trash"},null,-1),Ne={class:"left-copy p-panel-header-icon p-link p-mr-4"},xe=d("span",{class:"pi pi-copy"},null,-1),we=d("span",{class:"pi pi-forward"},null,-1),Ae=d("span",{class:"pi pi-bars"},null,-1),Se=d("pre",{id:"leftEditor",class:"editor"},null,-1);var Ee=i({expose:[],setup(n){const{editor:s}=G("leftEditor",I.hjson),{items:i,menu:f,toggleFn:g}=Oe();!function(e){const t=new me;J.on("left.editor.set",(t=>{e.value.setValue(t),e.value.execCommand("gotolineend")})),J.on("left.editor.check",(()=>{const n=t.do(ce.JSON,e.value.getValue(),{format:!0});_e(n)})),J.on("left.editor.fmt",(()=>{const n=t.do(ce.JSON,e.value.getValue(),{format:!0});_e(n)})),J.on("left.editor.compress",(()=>{const n=t.do(ce.JSON,e.value.getValue());_e(n)})),J.on("left.editor.transform",(()=>{const n=t.do(fe.codegenStrategy,e.value.getValue(),fe.opt);ye(n)}))}(s),t((()=>{s.value.setOption("wrap","free"),s.value.on("blur",(function(){O()})),s.value.on("change",a((function(){O()}),500))}));const _=e(!1),b=()=>{_.value=!0},y=()=>{_e(""),be()};t((()=>{new o(".left-copy",{text:function(e){return s.value.getValue()}})}));const O=()=>{ge({format:!0}),be()};return(e,t)=>{const n=l("Menu"),s=l("Panel"),a=l("Dialog"),o=r("tooltip");return c(),u(p,null,[d(s,{header:"JSON"},{icons:h((()=>[v(d("button",{class:"p-panel-header-icon p-link p-mr-4",onClick:b},[Te],512),[[o,"关于",void 0,{bottom:!0}]]),v(d("button",{class:"p-panel-header-icon p-link p-mr-4",onClick:y},[ke],512),[[o,"清空",void 0,{bottom:!0}]]),v(d("button",Ne,[xe],512),[[o,"复制",void 0,{bottom:!0}]]),v(d("button",{class:"p-panel-header-icon p-link p-mr-4",onClick:O},[we],512),[[o,"转换",void 0,{bottom:!0}]]),v(d("button",{class:"p-panel-header-icon p-link p-mr-4",onClick:t[1]||(t[1]=(...e)=>m(g)&&m(g)(...e))},[Ae],512),[[o,"更多",void 0,{bottom:!0}]]),d(n,{id:"config_menu",ref:f,model:m(i),popup:!0},null,8,["model"])])),default:h((()=>[Se])),_:1}),d(a,{header:"关于",visible:_.value,"onUpdate:visible":t[2]||(t[2]=e=>_.value=e),breakpoints:{"960px":"75vw"},style:{width:"50vw"},modal:!0},null,8,["visible"])],64)}}});const Re=new f({storage:"sessionStorage"}),Ce={class:"p-field-checkbox"},Le=d("label",{for:"binary"}," 是否内联类型",-1),Be=d("h5",null,"根对象名",-1),ze=d("h5",null,"自定义Tag(回车确认)",-1),Ie=d("p",null,"tag后面接序号可以指定命名方式",-1),je=d("p",null,"eg: json|3, form|2",-1),Ge=d("div",null,[d("h6",null,"命名方式"),d("p",null,"0. abcDef - 默认"),d("p",null,"1. AbcDef"),d("p",null,"2. abc_def"),d("p",null,"3. Abcdef"),d("p",null,"4. abcdef")],-1);var Ve=i({expose:[],setup(n){const s=e(!1),i=e(["json"]),a=e("Root"),o=()=>{const e={inline:s.value,tags:i.value,rootName:a.value};Re.set("opt.golang",e),ge(e)};return g([s,i,a],(()=>{o()})),t((()=>{const e=Re.get("opt.golang");e&&(s.value=e.inline,i.value=e.tags,a.value=e.rootName),o()})),(e,t)=>{const n=l("Checkbox"),o=l("InputText"),r=l("Chips");return c(),u(p,null,[d("div",Ce,[d(n,{id:"binary",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),binary:!0},null,8,["modelValue"]),Le]),Be,d(o,{type:"text",modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value=e)},null,8,["modelValue"]),ze,Ie,je,d(r,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e)},null,8,["modelValue"]),Ge],64)}}});const Ye=d("span",{class:"pi pi-question"},null,-1),Je=d("span",{class:"pi pi-refresh"},null,-1),Me={class:"right-copy p-panel-header-icon p-link p-mr-2"},Fe=d("span",{class:"pi pi-copy"},null,-1),Pe=d("span",{class:"pi pi-cog"},null,-1),Ue=d("pre",{id:"rightEditor",class:"editor"},null,-1),$e=d("p",null,null,-1),De=d("br",null,null,-1),Ke=d("br",null,null,-1);var We=i({expose:[],setup(n){const{editor:s}=G("rightEditor",I.hjson);!function(e){J.on("right.editor.set",(t=>{e.value.setValue(t),e.value.execCommand("gotolineend")}))}(s);const i=e(!1),a=()=>{i.value=!0},m=e(!1),f=e("编辑"),g=e("pi-eye-slash"),y=()=>{m.value=!m.value,f.value=m.value?"只读":"编辑",g.value=m.value?"pi-eye":"pi-eye-slash",s.value.setReadOnly(m.value)},O=()=>{be()};t((()=>{new o(".right-copy",{text:function(e){return s.value.getValue()}})}));const T=e(!1),k=()=>{T.value=!0},N=e({name:"Golang",code:1}),x=e([{name:"Json",code:0},{name:"Golang",code:1},{name:"Yaml",code:2}]),w=()=>{var e;e=N.value.code,fe.codegenStrategy=e,be()};return(e,t)=>{const n=l("Panel"),s=l("Dialog"),o=l("CascadeSelect"),m=l("Sidebar"),A=r("tooltip");return c(),u(p,null,[d(n,{header:"GO"},{icons:h((()=>[v(d("button",{class:"p-panel-header-icon p-link p-mr-4",onClick:a},[Ye],512),[[A,"关于",void 0,{bottom:!0}]]),v(d("button",{class:"p-panel-header-icon p-link p-mr-4",onClick:y},[d("span",{class:["pi",g.value]},null,2)],512),[[A,f.value,void 0,{bottom:!0}]]),v(d("button",{class:"p-panel-header-icon p-link p-mr-2",onClick:O},[Je],512),[[A,"刷新",void 0,{bottom:!0}]]),v(d("button",Me,[Fe],512),[[A,"复制",void 0,{bottom:!0}]]),v(d("button",{class:"p-panel-header-icon p-link p-mr-2",onClick:k},[Pe],512),[[A,"设置",void 0,{bottom:!0}]])])),default:h((()=>[Ue])),_:1}),d(s,{header:"关于",visible:i.value,"onUpdate:visible":t[1]||(t[1]=e=>i.value=e),breakpoints:{"960px":"75vw"},style:{width:"50vw"},modal:!0},{default:h((()=>[$e])),_:1},8,["visible"]),d(m,{visible:T.value,"onUpdate:visible":t[3]||(t[3]=e=>T.value=e),baseZIndex:1e3,position:"right",class:"p-sidebar-lg",showCloseIcon:!1},{default:h((()=>[d(n,{header:"设置"},{default:h((()=>[d(o,{onChange:w,modelValue:N.value,"onUpdate:modelValue":t[2]||(t[2]=e=>N.value=e),options:x.value,optionGroupChildren:[],optionLabel:"name",placeholder:"选择一门开发语言"},null,8,["modelValue","options"]),De,Ke,(c(),u(_,null,[(c(),u(b(Ve)))],1024))])),_:1})])),_:1},8,["visible"])],64)}}});const qe=y(i({expose:[],setup(n){const s=e("horizontal"),i=()=>{window.innerWidth<=800?s.value="vertical":s.value="horizontal"};return t((()=>{i(),window.addEventListener("resize",a(i,200))})),(e,t)=>{const n=l("SplitterPanel"),i=l("Splitter");return c(),u("main",null,[d(i,{style:{height:"100vh"},layout:s.value},{default:h((()=>[d(n,{minSize:25},{default:h((()=>[d(Ee)])),_:1}),d(n,{minSize:20},{default:h((()=>[d(We)])),_:1})])),_:1},8,["layout"])])}}}));qe.use(O),qe.use(T),qe.directive("tooltip",k),qe.component("Panel",N),qe.component("Menu",x),qe.component("Splitter",w),qe.component("SplitterPanel",A),qe.component("Dialog",S),qe.component("Sidebar",E),qe.component("Checkbox",R),qe.component("CascadeSelect",C),qe.component("SelectButton",L),qe.component("InputText",B),qe.component("Chips",z),qe.component("router-link",{}),qe.mount("#app");
